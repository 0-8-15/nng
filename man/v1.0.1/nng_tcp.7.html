---
version: v1.0.1
layout: refman
---
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>nng_tcp(7)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="manpage toc2 toc-left">
<div id="header">
<h1>nng_tcp(7) Manual Page</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_synopsis">SYNOPSIS</a></li>
<li><a href="#_description">DESCRIPTION</a>
<ul class="sectlevel2">
<li><a href="#_registration">Registration</a></li>
<li><a href="#_uri_format">URI Format</a></li>
<li><a href="#_socket_address">Socket Address</a></li>
<li><a href="#_transport_options">Transport Options</a></li>
</ul>
</li>
<li><a href="#_see_also">SEE ALSO</a></li>
</ul>
</div>
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<p>nng_tcp - TCP/IP transport</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;nng/transport/tcp/tcp.h&gt;</span><span class="tok-cp"></span>

<span class="tok-kt">int</span> <span class="tok-nf">nng_tcp_register</span><span class="tok-p">(</span><span class="tok-kt">void</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>
The <em>tcp</em> transport provides communication support between
<em>nng</em> sockets across a TCP/IP network.
Both IPv4 and IPv6 are supported when the underlying platform also supports it.</p>
</div>
<div class="sect2">
<h3 id="_registration">Registration</h3>
<div class="paragraph">
<p>The <em>nng_tcp</em> transport is generally built-in to the <em>nng</em> core, so
no extra steps to use it should be necessary.</p>
</div>
</div>
<div class="sect2">
<h3 id="_uri_format">URI Format</h3>
<div class="paragraph">
<p>
This transport uses URIs using the scheme <code>tcp://</code>, followed by
an IP address or hostname, followed by a colon and finally a
TCP port number.
For example, to contact port 80 on the localhost either of the following URIs
could be used: <code>tcp://127.0.0.1:80</code> or <code>tcp://localhost:80</code>.</p>
</div>
<div class="paragraph">
<p>A URI may be restricted to IPv6 using the scheme <code>tcp6://</code>, and may
be restricted to IPv4 using the scheme <code>tcp4://</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Specifying <code>tcp6://</code> may not prevent IPv4 hosts from being used with
IPv4-in-IPv6 addresses, particularly when using a wildcard hostname with
listeners.
The details of varies across operating systems.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Both <code>tcp6://</code> and <code>tcp4://</code> are <em>nng</em> extensions, and will not
be understood by other implementations such as <em>libnanomsg</em>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We recommend using either numeric IP addresses, or names that are
specific to either IPv4 or IPv6 to prevent confusion and surprises.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When specifying IPv6 addresses, the address must be enclosed in
square brackets (<code>[]</code>) to avoid confusion with the final colon
separating the port.</p>
</div>
<div class="paragraph">
<p>For example, the same port 80 on the IPv6 loopback address (<code>::1</code>) would
be specified as <code>tcp://[::1]:80</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When using symbolic names, the name is resolved when the
name is first used. <em>nng</em> won&#8217;t become aware of changes in the
name resolution until restart,
usually.
(This is a bug and will likely be fixed in the future.)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The special value of 0 (<code>INADDR_ANY</code>)
can be used for a listener to indicate that it should listen on all
interfaces on the host.
A short-hand for this form is to either omit the address, or specify
the asterisk (<code>*</code>) character.
For example, the following three URIs are all equivalent,
and could be used to listen to port 9999 on the host:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>tcp://0.0.0.0:9999</code></p>
</li>
<li>
<p><code>tcp://*:9999</code></p>
</li>
<li>
<p><code>tcp://:9999</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The entire URI must be less than <code>NNG_MAXADDRLEN</code> bytes long.</p>
</div>
</div>
<div class="sect2">
<h3 id="_socket_address">Socket Address</h3>
<div class="paragraph">
<p>When using an <code><a href="nng_sockaddr.5.html">nng_sockaddr</a></code> structure,
the actual structure is either of type
<code><a href="nng_sockaddr_in.5.html">nng_sockaddr_in</a></code> (for IPv4) or
<code><a href="nng_sockaddr_in6.5.html">nng_sockaddr_in6</a></code> (for IPv6).</p>
</div>
</div>
<div class="sect2">
<h3 id="_transport_options">Transport Options</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_TCP_KEEPALIVE</code></dt>
<dd>
<p>This option is used to configure TCP keep-alives.
The value is of type <code>bool</code>, and defaults to <code>false</code>.</p>
</dd>
<dt class="hdlist1"><code>NNG_OPT_TCP_NODELAY</code></dt>
<dd>
<p>This option is used to configure Nagle&#8217;s algorithm.
When enabled (<code>false</code>), the underlying TCP stream will attempt
to buffer and coalesce messages before sending them on, waiting
a short interval to improve buffering and reduce the overhead
caused by sending too-small messages.
This comes at a cost to latency, and is not recommended with modern
high speed networks.
The value is of type <code>bool</code> and defaults to <code>true</code>.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph text-left">
<p><a href="nng_sockaddr.5.html">nng_sockaddr(5)</a>,
<a href="nng_sockaddr_in.5.html">nng_sockaddr_in(5)</a>,
<a href="nng_sockaddr_in6.5.html">nng_sockaddr_in6(5)</a>,
<a href="nng.7.html">nng(7)</a></p>
</div>
</div>
</div>
</div>
<link rel="stylesheet" href="./pygments-default.css">
</body>
</html>