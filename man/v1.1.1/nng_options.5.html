---
version: v1.1.1
layout: refman
---
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>nng_options(5)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="manpage toc2 toc-left">
<div id="header">
<h1>nng_options(5) Manual Page</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_synopsis">SYNOPSIS</a></li>
<li><a href="#_description">DESCRIPTION</a>
<ul class="sectlevel2">
<li><a href="#_options">Options</a></li>
</ul>
</li>
<li><a href="#_see_also">SEE ALSO</a></li>
</ul>
</div>
<h2 id="_name">NAME</h2>
<div class="sectionbody">
<p>nng_options - socket, dialer, listener, and pipe options</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;nng/nng.h&gt;</span><span class="tok-cp"></span>

<span class="tok-cp">#define NNG_OPT_SOCKNAME      &quot;socket-name&quot;</span>
<span class="tok-cp">#define NNG_OPT_RAW           &quot;raw&quot;</span>
<span class="tok-cp">#define NNG_OPT_PROTO         &quot;protocol&quot;</span>
<span class="tok-cp">#define NNG_OPT_PROTONAME     &quot;protocol-name&quot;</span>
<span class="tok-cp">#define NNG_OPT_PEER          &quot;peer&quot;</span>
<span class="tok-cp">#define NNG_OPT_PEERNAME      &quot;peer-name&quot;</span>
<span class="tok-cp">#define NNG_OPT_RECVBUF       &quot;recv-buffer&quot;</span>
<span class="tok-cp">#define NNG_OPT_SENDBUF       &quot;send-buffer&quot;</span>
<span class="tok-cp">#define NNG_OPT_RECVFD        &quot;recv-fd&quot;</span>
<span class="tok-cp">#define NNG_OPT_SENDFD        &quot;send-fd&quot;</span>
<span class="tok-cp">#define NNG_OPT_RECVTIMEO     &quot;recv-timeout&quot;</span>
<span class="tok-cp">#define NNG_OPT_SENDTIMEO     &quot;send-timeout&quot;</span>
<span class="tok-cp">#define NNG_OPT_LOCADDR       &quot;local-address&quot;</span>
<span class="tok-cp">#define NNG_OPT_REMADDR       &quot;remote-address&quot;</span>
<span class="tok-cp">#define NNG_OPT_URL           &quot;url&quot;</span>
<span class="tok-cp">#define NNG_OPT_MAXTTL        &quot;ttl-max&quot;</span>
<span class="tok-cp">#define NNG_OPT_RECVMAXSZ     &quot;recv-size-max&quot;</span>
<span class="tok-cp">#define NNG_OPT_RECONNMINT    &quot;reconnect-time-min&quot;</span>
<span class="tok-cp">#define NNG_OPT_RECONNMAXT    &quot;reconnect-time-max&quot;</span>
<span class="tok-cp">#define NNG_OPT_TCP_NODELAY   &quot;tcp-nodelay&quot;</span>
<span class="tok-cp">#define NNG_OPT_TCP_KEEPALIVE &quot;tcp-keepalive&quot;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This page documents the various standard options that can be set or
retrieved on objects in the <em>nng</em> library.</p>
</div>
<div class="paragraph">
<p>Sockets (<code><a href="nng_socket.5.html">nng_socket</a></code> objects) use the functions
<code><a href="nng_getopt.3.html">nng_getopt()</a></code>
and <code><a href="nng_setopt.3.html">nng_setopt()</a></code> to set and retrieve option values.</p>
</div>
<div class="paragraph">
<p>Dialers (<code><a href="nng_dialer.5.html">nng_dialer</a></code> objects) use the functions
<code><a href="nng_dialer_getopt.3.html">nng_dialer_getopt()</a></code> and
<code><a href="nng_dialer_setopt.3.html">nng_dialer_setopt()</a></code> to set and retrieve option
values.</p>
</div>
<div class="paragraph">
<p>Listeners (<code><a href="nng_listener.5.html">nng_listener</a></code> objects) use the functions
<code><a href="nng_listener_getopt.3.html">nng_listener_getopt()</a></code>
and <code><a href="nng_listener_setopt.3.html">nng_listener_setopt()</a></code> to set and
retrieve option values.</p>
</div>
<div class="paragraph">
<p>Pipes (<code><a href="nng_pipe.5.html">nng_pipe</a></code> objects) can only retrieve option values using
the <code><a href="nng_pipe_getopt.3.html">nng_pipe_getopt()</a></code> function.</p>
</div>
<div class="paragraph">
<p>In addition to the options listed here, transports and protocols will generally
have some of their own options, which will be documented with the transport
or protocol.</p>
</div>
<div class="sect2">
<h3 id="_options">Options</h3>
<div class="paragraph">
<p>In the following list of options, the name of the option is supplied,
along with the data type of the underlying value.
Some options are only meaningful or supported in certain contexts; for
example there is no single meaningful address for a socket, since sockets
can have multiple dialers and endpoints associated with them.
An attempt has been made to include details about such restrictions in the
description of the option.</p>
</div>
<div id="NNG_OPT_LOCADDR" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_LOCADDR</code></dt>
<dd>
<p>(<code><a href="nng_sockaddr.5.html">nng_sockaddr</a></code>)
This read-only option may be used on listeners, dialers and connected pipes, and
represents the local address used for communication.
Not all transports support this option, and some transports may support it
listeners but not dialers.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_RAW" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_RAW</code></dt>
<dd>
<p>

(<code>bool</code>)
This read-only option indicates whether the socket is in &#8220;raw&#8221; mode.
If <code>true</code>, the socket is in &#8220;raw&#8221; mode, and if <code>false</code> the socket is
in &#8220;cooked&#8221; mode.
Raw mode sockets generally do not have any protocol-specific semantics applied
to them; instead the application is expected to perform such semantics itself.
(For example, in &#8220;cooked&#8221; mode a <a href="nng_rep.7.html"><em>rep</em></a> socket would
automatically copy message headers from a received message to the corresponding
reply, whereas in &#8220;raw&#8221; mode this is not done.)
See <a href="nng.7.html#raw_mode">Raw Mode</a> for more details.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_RECONNMINT" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_RECONNMINT</code></dt>
<dd>
<p>
(<code><a href="nng_duration.5.html">nng_duration</a></code>)
This is the minimum amount of time (milliseconds) to wait before attempting
to establish a connection after a previous attempt has failed.
This can be set on a socket, but it can also be overridden on an individual
dialer.
The option is irrelevant for listeners.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_RECONNMAXT" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_RECONNMAXT</code></dt>
<dd>
<p>

(<code><a href="nng_duration.5.html">nng_duration</a></code>)
This is the maximum amount of time
(milliseconds) to wait before attempting to establish a connection after
a previous attempt has failed.
If this is non-zero, then the time between successive connection attempts
will start at the value of <code>NNG_OPT_RECONNMINT</code>,
and grow exponentially, until it reaches this value.
If this value is zero, then no exponential
back-off between connection attempts is done, and each attempt will wait
the time specified by <code>NNG_OPT_RECONNMINT</code>.
This can be set on a socket, but it can also be overridden on an individual
dialer.
The option is irrelevant for listeners.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_RECVBUF" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_RECVBUF</code></dt>
<dd>
<p>

(<code>int</code>)
This is the depth of the socket&#8217;s receive buffer as a number of messages.
Messages received by a transport may be buffered until the application
has accepted them for delivery.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_RECVFD" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_RECVFD</code></dt>
<dd>
<p>


(<code>int</code>)
This read-only option is used to obtain an integer file descriptor suitable
for use with
<a href="http://pubs.opengroup.org/onlinepubs/7908799/xsh/poll.html"><code>poll()</code></a>,
<a href="http://pubs.opengroup.org/onlinepubs/7908799/xsh/select.html"><code>select()</code></a>,
(or on Windows systems
<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms741669(v=vs.85).aspx"><code>WSAPoll()</code></a>)
and similar functions.
This descriptor will be <strong>readable</strong> when a message is available for receiving
on the socket.
When no message is ready for receiving, then this file descriptor will <strong>not</strong>
be readable.</p>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Applications should never attempt to read or write to the
returned file descriptor.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
While this option may help applications integrate into existing polling
loops, it is more efficient, and often easier, to use the asynchronous I/O
objects instead.
See <code><a href="nng_aio_alloc.3.html">nng_aio_alloc()</a></code>.
</td>
</tr>
</table>
</div>
<div id="NNG_OPT_RECVMAXSZ" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_RECVMAXSZ</code></dt>
<dd>
<p>
(<code>size_t</code>)
This is the maximum message size that the will be accepted from a remote peer.
If a peer attempts to send a message larger than this, then the message
will be discarded.
If the value of this is zero, then no limit on message sizes is enforced.
This option exists to prevent certain kinds of denial-of-service attacks,
where a malicious agent can claim to want to send an extraordinarily
large message, without sending any data.
This option can be set for the socket, but may be overridden for on a
per-dialer or per-listener basis.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Some transports may have further message size restrictions!
</td>
</tr>
</table>
</div>
<div id="NNG_OPT_RECVTIMEO" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_RECVTIMEO</code></dt>
<dd>
<p>

(<code><a href="nng_duration.5.html">nng_duration</a></code>)
This is the socket receive timeout in milliseconds.
When no message is available for receiving at the socket for this period of
time, receive operations will fail with a return value of <code>NNG_ETIMEDOUT</code>.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_REMADDR" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_REMADDR</code></dt>
<dd>
<p>(<code><a href="nng_sockaddr.5.html">nng_sockaddr</a></code>)
This read-only option may be used on dialers and connected pipes, and
represents the address of a remote peer.
Not all transports support this option.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_SENDBUF" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_SENDBUF</code></dt>
<dd>
<p>

(<code>int</code>)
This is the depth of the socket send buffer as a number of messages.
Messages sent by an application may be buffered by the socket until a
transport is ready to accept them for delivery.
This value must be an integer between 0 and 8192, inclusive.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Not all protocols support buffering sent messages;
generally multicast protocols like <a href="nng_pub.7.html"><em>pub</em></a> will
simply discard messages when they cannot be delivered immediately.
</td>
</tr>
</table>
</div>
<div id="NNG_OPT_SENDFD" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_SENDFD</code></dt>
<dd>
<p>


(<code>int</code>)
This read-only option is used to obtain an integer file descriptor suitable
for use with
<a href="http://pubs.opengroup.org/onlinepubs/7908799/xsh/poll.html"><code>poll()</code></a>,
<a href="http://pubs.opengroup.org/onlinepubs/7908799/xsh/select.html"><code>select()</code></a>,
(or on Windows systems
<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms741669(v=vs.85).aspx"><code>WSAPoll()</code></a>)
and similar functions.
This descriptor will be <strong>readable</strong> when the socket is able to accept a
message for sending without blocking.
When the socket is no longer able to accept such messages without blocking,
the descriptor will <strong>not</strong> be readable.</p>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Applications should never attempt to read or write to the
returned file descriptor.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
While this option may help applications integrate into existing polling
loops, it is more efficient, and often easier, to use the asynchronous I/O
objects instead.
See <code><a href="nng_aio_alloc.3.html">nng_aio_alloc()</a></code>.
</td>
</tr>
</table>
</div>
<div id="NNG_OPT_SENDTIMEO" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_SENDTIMEO</code></dt>
<dd>
<p>

(<code><a href="nng_duration.5.html">nng_duration</a></code>)
This is the socket send timeout in milliseconds.
When a message cannot be queued for delivery by the socket for this period of
time (such as if send buffers are full), the operation will fail with a
return value of <code>NNG_ETIMEDOUT</code>.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_SOCKNAME" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_SOCKNAME</code></dt>
<dd>
<p>
(string)
This the socket name.
By default this is a string corresponding to the value of the socket.
The string must fit within 64-bytes, including the terminating
<code>NUL</code> byte, but it can be changed for other application uses.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_MAXTTL" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_MAXTTL</code></dt>
<dd>
<p>(<code>int</code>)

This is the maximum number of &#8220;hops&#8221; a message may traverse (see
<code><a href="nng_device.3.html">nng_device()</a></code>).
The intention here is to prevent forwarding loops in device chains.
When this is supported, it can have a value between 1 and 255, inclusive.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Not all protocols support this option.
Those that do generally have a default value of 8.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Each node along a forwarding path may have its own value for the
maximum time-to-live, and performs its own checks before forwarding a message.
Therefore it is helpful if all nodes in the topology use the same value for
this option.
</td>
</tr>
</table>
</div>
<div id="NNG_OPT_URL" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_URL</code></dt>
<dd>
<p>

(string)
This read-only option is used to obtain the URL with which a listener
or dialer was configured.
Accordingly it can only be used with dialers, listeners, and pipes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Some transports will canonify URLs before returning them to the
application.
</td>
</tr>
</table>
</div>
<div id="NNG_OPT_PROTO" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_PROTO</code></dt>
<dd>
<p>(<code>int</code>)
This read-only option is used to obtain the 16-bit number for the socket&#8217;s protocol.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_PEER" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_PEER</code></dt>
<dd>
<p>(<code>int</code>)
This read-only option is used to obtain the 16-bit number of the
peer protocol for the socket.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_PROTONAME" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_PROTONAME</code></dt>
<dd>
<p>(string)
This read-only option is used to obtain the name of the socket&#8217;s protocol.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_PEERNAME" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_PEERNAME</code></dt>
<dd>
<p>(string)
This read-only option is used to obtain the name of the peer protocol for
the socket.</p>
</dd>
</dl>
</div>
<div id="NNG_OPT_TCP_NODELAY" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_TCP_NODELAY</code></dt>
<dd>
<p>(<code>bool</code>)
This option is used to disable (or enable) the use of Nagle&#8217;s algorithm
for TCP connections.
When <code>true</code> (the default), messages are sent immediately by the underlying
TCP stream without waiting to gather more data.
When <code>false</code>, Nagle&#8217;s algorithm is enabled, and the TCP stream may
wait briefly in attempt to coalesce messages.
Nagle&#8217;s algorithm is useful on low-bandwidth connections to reduce overhead,
but it comes at a cost to latency.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This setting may apply to transports that are built on top of TCP.
See the transport documentation for each transport for details.
</td>
</tr>
</table>
</div>
<div id="NNG_OPT_TCP_KEEPALIVE" class="dlist">
<dl>
<dt class="hdlist1"><code>NNG_OPT_TCP_KEEPALIVE</code></dt>
<dd>
<p>(<code>bool</code>)
This option is used to enable the sending of keep-alive messages on
the underlying TCP stream.
This option is <code>false</code> by default.
When enabled, if no messages are seen for a period of time, then
a zero length TCP message is sent with the ACK flag set in an attempt
to tickle some traffic from the peer.
If none is still seen (after some platform-specific number of retries and
timeouts), then the remote peer is presumed dead, and the connection is closed.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This setting may apply to transports that are built on top of TCP.
See the transport documentation for each transport for details.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This option has two purposes.
First, it can be used to detect dead peers on an otherwise quiescent network.
Second, it can be used to keep connection table entries in NAT and other
middleware from being expiring due to lack of activity.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph text-left">
<p><a href="nng_dialer_getopt.3.html">nng_dialer_getopt(3)</a>,
<a href="nng_dialer_setopt.3.html">nng_dialer_setopt(3)</a>,
<a href="nng_getopt.3.html">nng_getopt(3)</a>,
<a href="nng_listener_getopt.3.html">nng_listener_getopt(3)</a>,
<a href="nng_listener_setopt.3.html">nng_listener_setopt(3)</a>,
<a href="nng_pipe_getopt.3.html">nng_pipe_getopt(3)</a>,
<a href="nng_setopt.3.html">nng_setopt(3)</a>,
<a href="nng.7.html">nng(7)</a></p>
</div>
</div>
</div>
</div>
<link rel="stylesheet" href="./pygments-default.css">
</body>
</html>